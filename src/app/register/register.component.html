<div class="register-form">
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label>Name
        <input formControlName="username" class="form-control"/></label>
    </div>
    <div class="form-group">
      <label>Email
        <input formControlName="email" class="form-control"/></label>
    </div>
    <div formGroupName="passwordField">
    <div class="form-group">
      <label>Password</label>
      <input type="password" formControlName="password" class="form-control"/>
    </div>
    <div class="form-group">
      <label>Confirm Password
      <input type="password" formControlName="confirmPassword" class="form-control"/></label>
    </div>
      <ng-container *ngIf="registerForm.get('passwordField.confirmPassword')?.invalid && registerForm.get('passwordField.confirmPassword')?.dirty || registerForm.get('passwordField.confirmPassword')?.touched">
      <ng-container *ngIf="registerForm.get('passwordField')?.errors?.['passwordError']">
        <p class="a-input-error">{{registerForm.get('passwordField')?.errors?.['passwordError']}}</p>
      </ng-container></ng-container>
</div>
    <div class="form-group">
      <button type="submit" (click)="!signUpFailed ||dialog.showModal()">Register</button>
      <button type="button" (click)="onReset()" class="btn btn-warning float-right">Reset</button>
    </div>
  </form>
</div>
<!--
signal - réponse du serveur et message, nouveau user: ok, user existant, erreur, - user  already exists (with the same name/email), l'utilisateur a été bien enregistré
-->
<dialog #dialog>
  <div>
    <p>Your registration is successful</p>
  </div>
</dialog>
